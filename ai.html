<!DOCTYPE html>
<html>
<head>
  <style>
    body {
      font-family: Arial, sans-serif;
    }

    .chat-container {
      max-width: 400px;
      margin: 0 auto;
      border: 1px solid #ccc;
      border-radius: 5px;
      overflow: hidden;
      box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
    }

    .chat-header {
      background-color: #f0f0f0;
      padding: 10px;
      border-bottom: 1px solid #ccc;
    }

    .chat-header h2 {
      margin: 0;
    }

    .chat-body {
      height: 200px;
      padding: 10px;
      overflow-y: auto;
    }

    .chat-input {
      padding: 10px;
    }

    .chat-input input[type="text"] {
      width: 100%;
      padding: 5px;
    }
  </style>
  <script>
    var menuWindow = null;
    var chatWindow = null;

    function openMenuWindow() {
      if (menuWindow && !menuWindow.closed) {
        menuWindow.focus();
      } else {
        menuWindow = window.open('', '_blank', 'width=200,height=300');
        var menuContent = '<ul>' +
          '<li><a href="#" onclick="openChatWindow()">Open Chat</a></li>' +
          '<li><a href="#" onclick="closeChatziBuddy()">Close Chatzi Buddy</a></li>' +
          '</ul>';
        menuWindow.document.write(menuContent);
      }
    }

    function openChatWindow() {
      if (chatWindow && !chatWindow.closed) {
        chatWindow.focus();
      } else {
        chatWindow = window.open('', '_blank', 'width=400,height=400');
        var chatContent = '<!DOCTYPE html>' +
          '<html>' +
          '<head>' +
          '<style>' +
          'body {' +
          '  font-family: Arial, sans-serif;' +
          '}' +
          '.chat-container {' +
          '  max-width: 400px;' +
          '  margin: 0 auto;' +
          '  border: 1px solid #ccc;' +
          '  border-radius: 5px;' +
          '  overflow: hidden;' +
          '  box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);' +
          '}' +
          '.chat-header {' +
          '  background-color: #f0f0f0;' +
          '  padding: 10px;' +
          '  border-bottom: 1px solid #ccc;' +
          '}' +
          '.chat-header h2 {' +
          '  margin: 0;' +
          '}' +
          '.chat-body {' +
          '  height: 200px;' +
          '  padding: 10px;' +
          '  overflow-y: auto;' +
          '}' +
          '.chat-input {' +
          '  padding: 10px;' +
          '}' +
          '.chat-input input[type="text"] {' +
          '  width: 100%;' +
          '  padding: 5px;' +
          '}' +
          '</style>' +
          '</head>' +
          '<body>' +
          '<div class="chat-container">' +
          '  <div class="chat-header">' +
          '    <h2>Chatzi Buddy Chat GPT</h2>' +
          '  </div>' +
          '  <div class="chat-body" id="chat-body">' +
          '    <p>Welcome! How can I assist you?</p>' +
          '  </div>' +
          '  <div class="chat-input">' +
          '    <input type="text" id="user-input" placeholder="Type your message...">' +
          '  </div>' +
          '</div>' +
          '<script>' +
          'var chatBody = document.getElementById(\'chat-body\');' +
          'var userInput = document.getElementById(\'user-input\');' +
          'var showResponse = true; // Option to show or type out the response' +
          'function sendMessage() {' +
          '  var message = userInput.value.trim();' +
          '  if (message !== \'\') {' +
          '    displayMessage(\'User\', message);' +
          '    userInput.value = \'\';' +
          '    // Call the Chat GPT API or perform any processing for the response here' +
          '    var generatedMessage = "This is a sample response from Chat GPT.";' +
          '    if (showResponse) {' +
          '      displayMessage(\'Chatzi Buddy\', generatedMessage);' +
          '    } else {' +
          '      typeOutMessage(\'Chatzi Buddy\', generatedMessage);' +
          '    }' +
          '  }' +
          '}' +
          'function displayMessage(sender, message) {' +
          '  var messageElement = document.createElement(\'p\');' +
          '  messageElement.innerHTML = \'<strong>\' + sender + \':</strong> \' + message;' +
          '  chatBody.appendChild(messageElement);' +
          '  chatBody.scrollTop = chatBody.scrollHeight;' +
          '}' +
          'function typeOutMessage(sender, message) {' +
          '  var index = 0;' +
          '  var typingSpeed = 50; // Adjust the typing speed in milliseconds' +
          '  var typeOutInterval = setInterval(function() {' +
          '    if (index < message.length) {' +
          '      var partialMessage = message.substring(0, index + 1);' +
          '      displayMessage(sender, partialMessage);' +
          '      index++;' +
          '    } else {' +
          '      clearInterval(typeOutInterval);' +
          '    }' +
          '  }, typingSpeed);' +
          '}' +
          'userInput.addEventListener(\'keydown\', function(event) {' +
          '  if (event.key === \'Enter\') {' +
          '    sendMessage();' +
          '  }' +
          '});' +
          '</script>' +
          '</body>' +
          '</html>';
        chatWindow.document.write(chatContent);
      }
    }

    function closeChatziBuddy() {
      if (menuWindow) {
        menuWindow.close();
      }
      if (chatWindow) {
        chatWindow.close();
      }
    }

    window.addEventListener('contextmenu', function(event) {
      event.preventDefault();
      openMenuWindow();
    });

    window.addEventListener('keydown', function(event) {
      if (event.keyCode === 57) { // Key code for number 9
        openMenuWindow();
      }
    });
  </script>
</head>
<body>
  <img src="https://raw.githubusercontent.com/ub96/ub96.github.io/main/bonzi.png" alt="Chatzi Buddy" onclick="openMenuWindow()" style="cursor: pointer;">
</body>
</html>
